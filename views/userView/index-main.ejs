<%- include("../partials/userHeader") %>

<main>
  <!-- slider-area start -->
  <section
    class="custom-slider-area pos-relative"
    style="
      width: 100%;
      height: 600px; /* Reduced height for better fit */
      position: relative;
      overflow: hidden;
      margin: 0 auto;
    "
  >
    <div
      class="custom-slider-active"
      style="
        width: 100%;
        height: 100%;
        display: flex;
        transition: transform 0.5s ease;
      "
    >
      <div
        class="custom-single-slider custom-slider-2 custom-slide-1-style custom-slide-height-2 d-flex align-items-center"
        style="
          flex: 0 0 100%;
          width: 100%;
          height: 100%;
          background-size: cover;
          background-position: center;
          background-repeat: no-repeat;
          background-image: url('/user-assets/img/slider/newSlide1.webp');
        "
      ></div>
      <div
        class="custom-single-slider custom-slider-2 custom-slide-1-style custom-slide-height-2 d-flex align-items-center"
        style="
          flex: 0 0 100%;
          width: 100%;
          height: 100%;
          background-size: cover;
          background-position: center;
          background-repeat: no-repeat;
          background-image: url('/user-assets/img/slider/newSlide2.webp');
        "
      ></div>
      <div
        class="custom-single-slider custom-slider-2 custom-slide-1-style custom-slide-height-2 d-flex align-items-center"
        style="
          flex: 0 0 100%;
          width: 100%;
          height: 100%;
          background-size: cover;
          background-position: center;
          background-repeat: no-repeat;
          background-image: url('/user-assets/img/slider/newSlide3.webp');
        "
      ></div>
    </div>
    <div
      class="custom-nav-btn custom-prev-btn"
      style="
        position: absolute;
        top: 50%;
        left: 10px;
        transform: translateY(-50%);
        font-size: 24px;
        color: #333;
        background-color: rgba(255, 255, 255, 0.5);
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
      "
    >
      &lt;
    </div>
    <div
      class="custom-nav-btn custom-next-btn"
      style="
        position: absolute;
        top: 50%;
        right: 10px;
        transform: translateY(-50%);
        font-size: 24px;
        color: #333;
        background-color: rgba(255, 255, 255, 0.5);
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
      "
    >
      &gt;
    </div>
  </section>
  <!-- slider-area end -->

  <!-- banner area start -->

  <!-- banner area end -->

  <!-- product-area start -->
  <section class="product-area box-90 pt-70 pb-40">
    <div class="container-fluid">
      <div class="row">
        <div class="col-xl-5 col-lg-12">
          <div class="area-title mb-50">
            <h2>Latest Products</h2>
          </div>
        </div>
        <div class="col-xl-7 col-lg-12">
          <div class="product-tab mb-40">
            <ul class="nav product-nav justify-content-xl-end">
              <li
                class="nav-item"
                style="display: flex; align-items: center; gap: 10px"
              >
                <span><strong>To buy these products, Click Here</strong></span>
                <span
                  class="nav-link"
                  style="
                    color: white;
                    background-color: red;
                    padding: 10px 15px;
                    text-decoration: none;
                    border-radius: 5px;
                    cursor: pointer;
                    transition: background-color 0.3s;
                    font-weight: bold;
                  "
                  onmouseover="this.style.backgroundColor = 'yellow'; this.style.color = 'black';"
                  onmouseout="this.style.backgroundColor = 'red'; this.style.color = 'white';"
                  onclick="window.location.href='/shop';"
                >
                  <strong>Go To Shop Page</strong>
                </span>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xl-12">
          <div class="product-tab-content">
            <div class="tab-content">
              <div class="tab-pane fade show active">
                <div
                  class="products"
                  style="
                    display: grid;
                    grid-template-columns: repeat(
                      auto-fill,
                      minmax(200px, 1fr)
                    );
                    gap: 20px;
                  "
                >
                  <% for (let i = 0; i < products.length; i++) { %> <% const
                  product = products[i]; %>
                  <div
                    class="pro-item"
                    style="
                      border: 1px solid #ccc;
                      border-radius: 5px;
                      overflow: hidden;
                    "
                  >
                    <div class="product-wrapper" style="padding: 10px">
                      <div class="product-img" style="margin-bottom: 15px">
                        <img
                          src="/uploads/product-images/<%= product.productImage[1] %>"
                          alt="<%= product.productName %>"
                          style="width: 100%; height: auto"
                        />
                        <div class="sale-tag">
                          <% if (product.isNew) { %>
                          <span
                            class="new"
                            style="
                              position: absolute;
                              top: 10px;
                              left: 10px;
                              background: green;
                              color: white;
                              padding: 2px 5px;
                            "
                            >new</span
                          >
                          <% } %> <% if (product.isOnSale) { %>
                          <span
                            class="sale"
                            style="
                              position: absolute;
                              top: 10px;
                              right: 10px;
                              background: red;
                              color: white;
                              padding: 2px 5px;
                            "
                            >sale</span
                          >
                          <% } %>
                        </div>
                      </div>
                      <div class="product-content">
                        <div class="pro-cat" style="margin-bottom: 5px">
                          <% if (product.categories &&
                          product.categories.length) { %> <% for (let j = 0; j <
                          product.categories.length; j++) { %> <% const category
                          = product.categories[j]; %>
                          <span><%= category.name %></span>
                          <% } %> <% } %>
                        </div>
                        <h4 style="font-size: 16px; margin-bottom: 10px">
                          <span><%= product.productName %></span>
                        </h4>
                        <div class="product-meta">
                          <div class="pro-price" style="font-size: 14px">
                            <span><%= product.salePrice %></span>
                            <% if (product.regularPrice) { %>
                            <span
                              class="old-price"
                              style="text-decoration: line-through; color: #999"
                              ><%= product.regularPrice %></span
                            >
                            <% } %>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <% } %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- product-area end -->

  <!-- features-area start -->
  <section class="features-area box-90">
    <div class="container-fluid">
      <div class="theme-soft-bg fix pt-100 pb-50">
        <div class="row">
          <div class="col-xl-12">
            <div class="area-title text-center mb-50">
              <h2>Special Features</h2>
              <p>Get special services from our shop.</p>
            </div>
          </div>
        </div>
        <div class="features">
          <div class="single-seatures width-20 mb-50 text-center">
            <i class="flaticon-shopping-cart-1"></i>
            <span>Free Delivery</span>
            <h3>Free Delivery</h3>
          </div>
          <div class="single-seatures width-20 mb-50 text-center">
            <i class="flaticon-good"></i>
            <span>100% Customer</span>
            <h3>Feedbacks</h3>
          </div>
          <div class="single-seatures width-20 mb-50 text-center">
            <i class="flaticon-return-1"></i>
            <span>10 Days</span>
            <h3>For Free Return</h3>
          </div>
          <div class="single-seatures width-20 mb-50 text-center">
            <i class="flaticon-return"></i>
            <span>Payment</span>
            <h3>Secure System</h3>
          </div>
          <div class="single-seatures width-20 mb-50 text-center">
            <i class="flaticon-customer-service"></i>
            <span>24/7</span>
            <h3>Online Supports</h3>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- features-area end -->
</main>
<script>
  const sliderActive = document.querySelector(".custom-slider-active");
  const prevBtn = document.querySelector(".custom-prev-btn");
  const nextBtn = document.querySelector(".custom-next-btn");
  const slides = Array.from(document.querySelectorAll(".custom-single-slider"));
  const slideWidth = slides[0].offsetWidth; // Get the width of the first slide

  let currentSlide = 0;

  prevBtn.addEventListener("click", () => {
    currentSlide = currentSlide === 0 ? slides.length - 1 : currentSlide - 1;
    sliderActive.style.transform = `translateX(-${
      currentSlide * slideWidth
    }px)`;
  });

  nextBtn.addEventListener("click", () => {
    currentSlide = currentSlide === slides.length - 1 ? 0 : currentSlide + 1;
    sliderActive.style.transform = `translateX(-${
      currentSlide * slideWidth
    }px)`;
  });

  window.addEventListener("resize", () => {
    slideWidth = slides[0].offsetWidth; // Update the width on resize
    sliderActive.style.transform = `translateX(-${
      currentSlide * slideWidth
    }px)`;
  });
</script>

<%- include("../partials/userFooter") %>
