<%- include("../partials/userHeader") %>

<main>
  <!-- breadcrumb-area-start -->
  <section
    class="breadcrumb-area"
    data-background="/user-assets/img/bg/page-title.png"
  >
    <div class="container">
      <div class="row">
        <div class="col-xl-12">
          <div class="breadcrumb-text text-center">
            <h1>Login</h1>
            <ul class="breadcrumb-menu">
              <li><a href="index.html">home</a></li>
              <li><span>Sign Up</span></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- breadcrumb-area-end -->

  <!-- login Area Strat-->
  <section class="login-area pt-100 pb-100">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 offset-lg-2">
          <div class="basic-login">
            <h3 class="text-center mb-60">Login From Here</h3>
            <form
              action="/login"
              method="post"
              onsubmit="return validateForm()"
            >
              <label for="name">Email Address <span>**</span></label>
              <input
                id="name"
                name="email"
                type="email"
                placeholder="Enter Email address..."
                oninput="validateEmail()"
              />
              <span id="email-error" class="error"></span>
              <!-- Error message container -->

              <label for="pass">Password <span>**</span></label>
              <input
                id="pass"
                name="password"
                type="password"
                placeholder="Enter password..."
                oninput="validatePassword()"
              />
              <span id="password-error" class="error"></span>
              <!-- Error message container -->

              <div class="login-action mb-20 fix">
                <span class="log-rem f-left">
                  <input id="remember" type="checkbox" />
                  <label for="remember">Remember me!</label>
                </span>
                <span class="forgot-login f-right">
                  <a href="/forgotPassword">Lost your password?</a>
                </span>
              </div>
              <button class="btn theme-btn-2 w-100">Login Now</button>
              <div class="or-divide"><span>or</span></div>
              <button class="btn theme-btn w-100" onclick="window.location.href='/signup'">Register Now</button>

            </form>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- login Area End-->
  <%- include("../partials/userFooter") %>
  <script>
  // Function to validate the form
  function validateForm() {
    console.log("login button");
    var email = document.getElementById("name").value;
    var password = document.getElementById("pass").value;

    // Validation for email
    if (!/^\S+@\S+\.\S+$/.test(email)) {
      document.getElementById("email-error").innerHTML = "Invalid email format";
      return false;
    } else {
      document.getElementById("email-error").innerHTML = "";
    }

    // Validation for password
    if (!/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*\W).{6,}/.test(password)) {
      document.getElementById("password-error").innerHTML = "Password should be at least 6 characters long and contain at least one digit, one uppercase letter, one lowercase letter, and one special character";
      return false;
    } else {
      document.getElementById("password-error").innerHTML = "";
    }

    // All validations passed
    return true;
  }

  // Real-time validation for email input
  function validateEmail() {
    var email = document.getElementById("name").value;
    if (!/^\S+@\S+\.\S+$/.test(email)) {
      document.getElementById("email-error").innerHTML = "Invalid email format";
    } else {
      document.getElementById("email-error").innerHTML = "";
    }
  }

  // Real-time validation for password input
  function validatePassword() {
    var password = document.getElementById("pass").value;
    if (!/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*\W).{6,}/.test(password)) {
      document.getElementById("password-error").innerHTML = "Password should be at least 6 characters long and contain at least one digit, one uppercase letter, one lowercase letter, and one special character";
    } else {
      document.getElementById("password-error").innerHTML = "";
    }
  }
</script>
</main>
